<html>

	<head>

		<style>
			td {
				    padding: 15px;
				}
				
			.checked {
				    color: orange;
				}
				

			body {
			background: #FFFFFF;
}
.borderless td, .borderless th {
    border: none;
}
		</style>
	</head>
<body>

		    <h2>
		        <span><div align="center">Welcome to your Recommendation Hub!
		        <p></p>
		        <h4>We aim to provide our users with recommendations catered to them.<div></div>
		        If you would like more information on the options below, hit the 'Help' button!</h4>
		        </div></span>
		        
		        <p></p>
		        
		           </h2>
		                       
		             <p *ngFor="let alert of alerts">
  						<ngb-alert [type]="alert.type" (close)="closeAlert(alert)">{{ alert.message }}</ngb-alert>
					</p>
					
				       
				       <div align="center">
				       <hr>
				       <button (click)="beginRecommendations()" type="button" class="btn btn-success btn-lg" *ngIf="beginVar">Click Here to Begin</button>
				       </div>
		            <div class="table-responsive" *ngIf="itemCategory">
		            
		            <table class="table borderless">
		            		<td><button (click)="listCategories()" type="button" class="btn btn-lg btn-outline-success">Recommendations by Inventory </button></td>
		            		<td><button (click)="timelyRecipe()" type="button" class="btn btn-lg btn-outline-success">Recommendations by Time</button></td>
		            		<td><button (click)="favoriteRecommendations()" type="button" class="btn btn-lg btn-outline-success">Recommendations by Cuisine </button>
		            		<td><button (click)="help()" type="button" class="btn btn-lg btn-outline-info">Help</button>
		            </table>
		            </div>
		            <div class="table-responsive" *ngIf="listItemCategories" align="center">
		            		            		<span>
		            		<h3>Please select one of the following categories, to see what ingredients you own in them: </h3>
		            		<table class="table borderless" align="center">

		            		<td><button (click)="listIngredients('meat')" type="button" class="btn btn-lg btn-outline-success">Meat</button></td>
		            		<td><button (click)="listIngredients('fruit')" type="button" class="btn btn-lg btn-outline-success">Fruit</button></td>
		            		<td><button (click)="listIngredients('vegetable')" type="button" class="btn btn-lg btn-outline-success">Vegetables </button></td>
		            		<td><button (click)="listIngredients('grain')" type="button" class="btn btn-lg btn-outline-success">Grain</button></td>
		            		<td><button (click)="beginRecommendations()" type="button" class="btn btn-lg btn-outline-info">Back</button></td>
		            		
		            		
		            </table>
		            </span>
		            </div>
		           <ul id="menu"> 
		           <table class="table borderless" *ngFor="let choice of choices">
		           			<tr><button class="btn btn-sm btn-outline-success" (click)="mainChoice(choice.ingredient_name)" type="button">{{ choice.ingredient_name }}</button></tr>	           		
		           </table>
		        	</ul>
		      			<div align = "center">
		      			<div [innerHtml]="favoriteVariable"></div>
						<ng-container *ngFor="let recipe of recipes; let i = index" class=container>
						<div *ngIf="i > 0 && i+1 % 3 == 1">
						<tr>
						</div>
						<td>
	 			           <div class="card" style="width: 18rem;">
							  <img class="card-img-top" src="{{recipe.largeImage}}" alt="Card image cap">
							  <div class="card-body">
							    <p class="card-text"><span style="font-weight:bold">{{recipe.recipeName}}</span>
							    				
							    				<div></div>			
							    				    <b>Star rating: </b>
							    				    
							    <span *ngIf="recipe.rating == 3">
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star"></span>
							    <span class="fa fa-star"></span></span>
							    
							    <span *ngIf="recipe.rating == 4">
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star"></span></span>
							    
							    <span *ngIf="recipe.rating == 5">
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star checked"></span>
							    <span class="fa fa-star checked"></span></span>
							   
							  </div>
							  <ul class="list-group list-group-flush"> 	
							    <li class="list-group-item"><b>Cooking time</b>: {{recipe.totalTimeInSeconds/60}} minutes</li>
							    <li class="list-group-item">
							    <b>Ingredient(s) Owned:</b><div></div>
							   		 <span *ngFor="let owned of recipe.ingredients_owned">
							    	 		<font color="#145214">{{ owned }}</font>, 
							    	</span>
							    </li>
							    <li class="list-group-item"><b>Ingredient(s) not Owned:</b><div></div>
							  	<span *ngFor="let unowned of recipe.ingredients_not_owned">
							    	 		<font color="#cd3232">{{ unowned }}</font>, 
							    	</span>
							    	</li>
							  </ul>
							  <div class="card-body">
						
							    <button class="btn btn-sm btn-outline-success" (click)="save(recipe)">Add missing ingredients to list</button>       				
							    <button class="btn btn-sm btn-outline-success" (click)="searchDetail(recipe.id, recipe)">See more details</button>

							  </div>
							  </div>
						</td>
						<div *ngIf="i % 3 == 0">	
						</tr>
						</div>
						</ng-container>
				
					</div>
			
			</body>		 	
</html>
